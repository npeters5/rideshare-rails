<h1>Passenger Details</h1>

<ul>
  <li>Name: <%= @passenger.name %></li>
  <li>Phone Number: <%= @passenger.phone_num %></li>
  <li>Total Cost: $<%= @passenger.total_cost %></li>
</ul>

<ul>
  <li><%= link_to "Edit Passenger", edit_passenger_path(@passenger) %></li>
  <li><%= link_to "Delete Passenger", passenger_path(@passenger), :data => {:confirm => 'Are you sure?'}, method: :delete %></li>
</ul>

<table>
  <thead>
    <tr>
      <th width="10">ID</th>
      <th>Date</th>
      <th>Driver</th>
      <th>Passenger</th>
      <th>Cost</th>
      <th>Rating</th>
      <th>Edit / Delete</th>
    </tr>
  </thead>
  <tbody>
      <% @passenger.trips.each do |trip| %>
      <tr>
        <td><%= link_to trip.id, trip_path(trip) %></td>
        <td><%= trip.pretty_date %></td>
        <td><%= link_to trip.driver.name, driver_path(trip.driver.id) %></td>
        <td><%= link_to trip.passenger.name, passenger_path(trip.passenger.id) %></td>
        <td><%= trip.cost_in_dollar %></td>
        <td>
          <% if trip.rating %>
            <%= trip.rating %>
          <% else %>
            <%= form_for trip do |f| %>
              <%= f.label :rating %>
              <%= f.select :rating, (1..5).to_a, :include_blank => true %>
              <%= f.submit "Update" %>
            <% end %>
          <% end %>
        </td>
        <td><%= link_to "Edit", edit_trip_path(trip.id) %> <%= link_to "Delete", trip_path(trip), :data => {:confirm => 'Are you sure?'}, method: :delete %></td>
      </tr>
      <% end %>
  </tbody>
</table>
<br>


<%= link_to "Request A New Trip", passenger_trips_path(@passenger), method: :post %>
